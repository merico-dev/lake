id,params,data,url,input,created_at
3162,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407675431"",""html_url"":""https://github.com/panjf2000/ants/pull/4#issuecomment-407675431"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/4"",""id"":407675431,""node_id"":""MDEyOklzc3VlQ29tbWVudDQwNzY3NTQzMQ=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-07-25T08:25:22Z"",""updated_at"":""2018-07-25T14:38:05Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=h1) Report\n> Merging [#4](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/f5b37d0798a8e4c6780a1e08270fa50e979aa1d7?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/4/graphs/tree.svg?token=JFa3laaGKq&width=650&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=tree)\n\n```diff\n@@          Coverage Diff          @@\n##           master     #4   +/-   ##\n=====================================\n  Coverage     100%   100%           \n=====================================\n  Files           5      5           \n  Lines         237    241    +4     \n=====================================\n+ Hits          237    241    +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100% <100%> (ø)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `100% <100%> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=footer). Last update [f5b37d0...83042d7](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407675431/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3163,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407714136"",""html_url"":""https://github.com/panjf2000/ants/pull/4#issuecomment-407714136"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/4"",""id"":407714136,""node_id"":""MDEyOklzc3VlQ29tbWVudDQwNzcxNDEzNg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-07-25T10:49:44Z"",""updated_at"":""2018-07-25T10:49:44Z"",""author_association"":""OWNER"",""body"":""@barryz 改的不错，不过有一点需要商榷，那个预分配的大小，之前benchmark我记得1000w也只需要用到7w多，这样的话预分配5w对于大部分场景其实有点浪费，你有没有用修改后的代码benchmark一下，每次allocs/op应该是变大了吧"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407714136/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3164,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407755528"",""html_url"":""https://github.com/panjf2000/ants/pull/4#issuecomment-407755528"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/4"",""id"":407755528,""node_id"":""MDEyOklzc3VlQ29tbWVudDQwNzc1NTUyOA=="",""user"":{""login"":""barryz"",""id"":16658738,""node_id"":""MDQ6VXNlcjE2NjU4NzM4"",""avatar_url"":""https://avatars.githubusercontent.com/u/16658738?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/barryz"",""html_url"":""https://github.com/barryz"",""followers_url"":""https://api.github.com/users/barryz/followers"",""following_url"":""https://api.github.com/users/barryz/following{/other_user}"",""gists_url"":""https://api.github.com/users/barryz/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/barryz/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/barryz/subscriptions"",""organizations_url"":""https://api.github.com/users/barryz/orgs"",""repos_url"":""https://api.github.com/users/barryz/repos"",""events_url"":""https://api.github.com/users/barryz/events{/privacy}"",""received_events_url"":""https://api.github.com/users/barryz/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-07-25T13:33:42Z"",""updated_at"":""2018-07-25T13:34:13Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000  因为从压测结果来看， 1000W的场景下goroutine池的作用很明显， 尤其是在节省内存开销方面，所以在选择默认worker数量时，取了一个相对较大的值。 下面是benchmark 对比\r\n\r\nmaster:\r\n\r\n```\r\ngoos: linux\r\ngoarch: amd64\r\nBenchmarkGoroutineWithFunc-4           1        15079030287 ns/op       723120296 B/op  10176159 allocs/op\r\nPASS\r\nok      command-line-arguments  15.106s\r\n```\r\n\r\nPR:\r\n```\r\ngoos: linux\r\ngoarch: amd64\r\nBenchmarkGoroutineWithFunc-4           1        15443376244 ns/op       720962888 B/op  10167850 allocs/op\r\nPASS\r\nok      command-line-arguments  15.479s\r\n```\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407755528/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3165,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407764945"",""html_url"":""https://github.com/panjf2000/ants/pull/4#issuecomment-407764945"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/4"",""id"":407764945,""node_id"":""MDEyOklzc3VlQ29tbWVudDQwNzc2NDk0NQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-07-25T14:02:41Z"",""updated_at"":""2018-07-25T14:02:41Z"",""author_association"":""OWNER"",""body"":""@barryz 这样看起来预分配似乎没有太大的内存优势，相反在其他数量的任务量场景下可能还会有点浪费，这样吧，要不你先把预分配内存这一块的暂时移除，然后我合一下优化代码的部分，至于预分配内存这一块，后续再继续讨论下看看有没有能兼顾的办法"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/407764945/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3166,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/409800144"",""html_url"":""https://github.com/panjf2000/ants/issues/5#issuecomment-409800144"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/5"",""id"":409800144,""node_id"":""MDEyOklzc3VlQ29tbWVudDQwOTgwMDE0NA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-02T04:13:09Z"",""updated_at"":""2018-08-02T04:13:09Z"",""author_association"":""OWNER"",""body"":""这里freeSignal和idleWorkers的数量是绝对匹配的，也就是说，只要freeSignal有值那么idleWorkers里肯定有可用worker可以取出来，putWorker就是把可用worker放回idleWorkers，每次都会塞一个值进freeSignal，还有每次从idleWorkers里取一个worker都要取出freeSignal对应的一个值，不存在有可用worker却被freeSignal阻塞"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/409800144/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3167,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410141732"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410141732"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410141732,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDE0MTczMg=="",""user"":{""login"":""lovelly"",""id"":13118848,""node_id"":""MDQ6VXNlcjEzMTE4ODQ4"",""avatar_url"":""https://avatars.githubusercontent.com/u/13118848?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/lovelly"",""html_url"":""https://github.com/lovelly"",""followers_url"":""https://api.github.com/users/lovelly/followers"",""following_url"":""https://api.github.com/users/lovelly/following{/other_user}"",""gists_url"":""https://api.github.com/users/lovelly/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/lovelly/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/lovelly/subscriptions"",""organizations_url"":""https://api.github.com/users/lovelly/orgs"",""repos_url"":""https://api.github.com/users/lovelly/repos"",""events_url"":""https://api.github.com/users/lovelly/events{/privacy}"",""received_events_url"":""https://api.github.com/users/lovelly/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T04:33:23Z"",""updated_at"":""2018-08-03T04:35:30Z"",""author_association"":""NONE"",""body"":""切片如下\r\n\r\n这里等待锁\r\n9913 @ 0x42c73a 0x42c7ee 0x43cf64 0x43cc7d 0x46dfe8 0x7b28e0 0x7b2be5 0x4591f1\r\n#\t0x43cc7c\tsync.runtime_SemacquireMutex+0x3c\t\t\t\tE:/go/src/runtime/sema.go:71\r\n#\t0x46dfe7\tsync.(*Mutex).Lock+0x107\t\t\t\t\tE:/go/src/sync/mutex.go:134\r\n#\t0x7b28df\tmp/vendor/github.com/panjf2000/ants.(*Pool).putWorker+0x6f\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/pool.go:229\r\n#\t0x7b2be4\tmp/vendor/github.com/panjf2000/ants.(*Worker).run.func1+0x54\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/worker.go:53\r\n\r\n\r\n//这里占用了锁无法释放\r\n1 @ 0x42c73a 0x42c7ee 0x404212 0x403ecb 0x7b27df 0x7b23e2 0x7f694a 0x7f68e1 0x4591f1\r\n#\t0x7b27de\tmp/vendor/github.com/panjf2000/ants.(*Pool).getWorker+0x22e\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/pool.go:199\r\n#\t0x7b23e1\tmp/vendor/github.com/panjf2000/ants.(*Pool).Submit+0x61\t\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/pool.go:125\r\n\r\n\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410141732/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3168,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410143221"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410143221"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410143221,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDE0MzIyMQ=="",""user"":{""login"":""lovelly"",""id"":13118848,""node_id"":""MDQ6VXNlcjEzMTE4ODQ4"",""avatar_url"":""https://avatars.githubusercontent.com/u/13118848?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/lovelly"",""html_url"":""https://github.com/lovelly"",""followers_url"":""https://api.github.com/users/lovelly/followers"",""following_url"":""https://api.github.com/users/lovelly/following{/other_user}"",""gists_url"":""https://api.github.com/users/lovelly/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/lovelly/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/lovelly/subscriptions"",""organizations_url"":""https://api.github.com/users/lovelly/orgs"",""repos_url"":""https://api.github.com/users/lovelly/repos"",""events_url"":""https://api.github.com/users/lovelly/events{/privacy}"",""received_events_url"":""https://api.github.com/users/lovelly/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T04:46:13Z"",""updated_at"":""2018-08-03T04:46:13Z"",""author_association"":""NONE"",""body"":""加了锁之后有下标溢出了。。。\r\npanic: runtime error: index out of range\r\n\r\ngoroutine 7 [running]:\r\nmp/vendor/github.com/panjf2000/ants.(*Pool).getWorker(0xc4200b6460, 0xc4202a6e01)\r\n\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/pool.go:213 +0x2ce\r\nmp/vendor/github.com/panjf2000/ants.(*Pool).Submit(0xc4200b6460, 0xc4223d47d0, 0x0, 0x0)\r\n\tF:/gowork/src/mp/vendor/github.com/panjf2000/ants/pool.go:125 +0x62\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410143221/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3169,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410147487"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410147487"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410147487,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDE0NzQ4Nw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T05:21:03Z"",""updated_at"":""2018-08-03T05:21:13Z"",""author_association"":""OWNER"",""body"":""@lovelly 我查了源码，怎么行数和你说的有点对不上，你的代码更新到最新了吗？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410147487/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3170,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410170764"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410170764"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410170764,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDE3MDc2NA=="",""user"":{""login"":""lovelly"",""id"":13118848,""node_id"":""MDQ6VXNlcjEzMTE4ODQ4"",""avatar_url"":""https://avatars.githubusercontent.com/u/13118848?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/lovelly"",""html_url"":""https://github.com/lovelly"",""followers_url"":""https://api.github.com/users/lovelly/followers"",""following_url"":""https://api.github.com/users/lovelly/following{/other_user}"",""gists_url"":""https://api.github.com/users/lovelly/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/lovelly/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/lovelly/subscriptions"",""organizations_url"":""https://api.github.com/users/lovelly/orgs"",""repos_url"":""https://api.github.com/users/lovelly/repos"",""events_url"":""https://api.github.com/users/lovelly/events{/privacy}"",""received_events_url"":""https://api.github.com/users/lovelly/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T07:33:21Z"",""updated_at"":""2018-08-03T07:33:21Z"",""author_association"":""NONE"",""body"":""是最新的代码，我有添加一些print 所以行数不一样，这确实是一个bug 9913个协程阻塞在了 putWorker 很久很久。，。。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410170764/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3171,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410173358"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410173358"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410173358,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDE3MzM1OA=="",""user"":{""login"":""lovelly"",""id"":13118848,""node_id"":""MDQ6VXNlcjEzMTE4ODQ4"",""avatar_url"":""https://avatars.githubusercontent.com/u/13118848?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/lovelly"",""html_url"":""https://github.com/lovelly"",""followers_url"":""https://api.github.com/users/lovelly/followers"",""following_url"":""https://api.github.com/users/lovelly/following{/other_user}"",""gists_url"":""https://api.github.com/users/lovelly/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/lovelly/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/lovelly/subscriptions"",""organizations_url"":""https://api.github.com/users/lovelly/orgs"",""repos_url"":""https://api.github.com/users/lovelly/repos"",""events_url"":""https://api.github.com/users/lovelly/events{/privacy}"",""received_events_url"":""https://api.github.com/users/lovelly/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T07:44:32Z"",""updated_at"":""2018-08-03T12:57:07Z"",""author_association"":""NONE"",""body"":""![image](https://user-images.githubusercontent.com/13118848/43630582-44f48000-9733-11e8-936d-9cb0d4145204.png)\r\n 我idleWorkers 为空的， 但是我有n个协程阻塞在了 204行的\t<-p.freeSignal， 这时候来了一个worker被放入idleWorkers， 很巧的是一个协程在putWorker结束锁后，在190行的p.lock.Lock()拿到了锁，这时候 n := len(idleWorkers) - 1 结果是0 这个协程很高兴的进入了接下来的else分支, 然而不幸发生了，p.freeSignal的信号确被早已等在 204行的若干个协程中的一个拿走了， 那么 可怜的协程拿到了锁， 确无法等到 p.freeSignal  p.freeSignal要拿到锁才能产生信号， 然后就。，。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410173358/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3172,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410204870"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410204870"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410204870,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDIwNDg3MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T09:51:15Z"",""updated_at"":""2018-08-03T09:52:04Z"",""author_association"":""OWNER"",""body"":""@lovelly 检查了一下，的确可能会有这个问题，这两天我会修复；\r\n另外，我测试的时候试过1000w的量都没发现过这个问题，可能是我每个任务的执行时间太短了，所以我想问下你的任务量有多大以及每个任务的耗时大概是多少？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410204870/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3173,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410205295"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410205295"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410205295,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDIwNTI5NQ=="",""user"":{""login"":""lovelly"",""id"":13118848,""node_id"":""MDQ6VXNlcjEzMTE4ODQ4"",""avatar_url"":""https://avatars.githubusercontent.com/u/13118848?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/lovelly"",""html_url"":""https://github.com/lovelly"",""followers_url"":""https://api.github.com/users/lovelly/followers"",""following_url"":""https://api.github.com/users/lovelly/following{/other_user}"",""gists_url"":""https://api.github.com/users/lovelly/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/lovelly/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/lovelly/subscriptions"",""organizations_url"":""https://api.github.com/users/lovelly/orgs"",""repos_url"":""https://api.github.com/users/lovelly/repos"",""events_url"":""https://api.github.com/users/lovelly/events{/privacy}"",""received_events_url"":""https://api.github.com/users/lovelly/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T09:53:00Z"",""updated_at"":""2018-08-03T09:53:00Z"",""author_association"":""NONE"",""body"":""我任务耗时从0秒到60秒之间。。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410205295/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3174,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410267195"",""html_url"":""https://github.com/panjf2000/ants/issues/6#issuecomment-410267195"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/6"",""id"":410267195,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDI2NzE5NQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T14:15:45Z"",""updated_at"":""2018-08-03T14:15:45Z"",""author_association"":""OWNER"",""body"":""@lovelly 应该已经修复了，可以再试试"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410267195/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3175,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410290418"",""html_url"":""https://github.com/panjf2000/ants/issues/5#issuecomment-410290418"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/5"",""id"":410290418,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMDI5MDQxOA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-03T15:32:00Z"",""updated_at"":""2018-08-03T15:32:00Z"",""author_association"":""OWNER"",""body"":""具体问题可以看 #6 "",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/410290418/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3176,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411342200"",""html_url"":""https://github.com/panjf2000/ants/issues/7#issuecomment-411342200"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/7"",""id"":411342200,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMTM0MjIwMA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-08T09:17:30Z"",""updated_at"":""2018-08-08T09:17:30Z"",""author_association"":""OWNER"",""body"":""@huiwq1990 谢谢指出，今天会修复这个问题。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411342200/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3177,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411369513"",""html_url"":""https://github.com/panjf2000/ants/issues/7#issuecomment-411369513"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/7"",""id"":411369513,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMTM2OTUxMw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-08T11:06:55Z"",""updated_at"":""2018-08-08T11:06:55Z"",""author_association"":""OWNER"",""body"":""@huiwq1990 应该解决了，可以再试试"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411369513/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3178,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411965696"",""html_url"":""https://github.com/panjf2000/ants/issues/7#issuecomment-411965696"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/7"",""id"":411965696,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMTk2NTY5Ng=="",""user"":{""login"":""huiwq1990"",""id"":4555057,""node_id"":""MDQ6VXNlcjQ1NTUwNTc="",""avatar_url"":""https://avatars.githubusercontent.com/u/4555057?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/huiwq1990"",""html_url"":""https://github.com/huiwq1990"",""followers_url"":""https://api.github.com/users/huiwq1990/followers"",""following_url"":""https://api.github.com/users/huiwq1990/following{/other_user}"",""gists_url"":""https://api.github.com/users/huiwq1990/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/huiwq1990/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/huiwq1990/subscriptions"",""organizations_url"":""https://api.github.com/users/huiwq1990/orgs"",""repos_url"":""https://api.github.com/users/huiwq1990/repos"",""events_url"":""https://api.github.com/users/huiwq1990/events{/privacy}"",""received_events_url"":""https://api.github.com/users/huiwq1990/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-10T03:35:53Z"",""updated_at"":""2018-08-10T03:35:53Z"",""author_association"":""NONE"",""body"":""嗯，解决了"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411965696/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3179,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411969260"",""html_url"":""https://github.com/panjf2000/ants/issues/7#issuecomment-411969260"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/7"",""id"":411969260,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxMTk2OTI2MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-10T04:06:04Z"",""updated_at"":""2018-08-10T04:06:04Z"",""author_association"":""OWNER"",""body"":""@huiwq1990 好的，那我关掉这个issue了。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/411969260/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3180,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416794440"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-416794440"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":416794440,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxNjc5NDQ0MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-29T01:39:23Z"",""updated_at"":""2018-08-29T01:39:23Z"",""author_association"":""OWNER"",""body"":""@hongli-my 不好意思，我没太懂你的意图？能麻烦说详细点吗？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416794440/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3181,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416794871"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-416794871"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":416794871,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxNjc5NDg3MQ=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-08-29T01:42:05Z"",""updated_at"":""2018-08-29T01:46:13Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=h1) Report\n> Merging [#8](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/666635c65d8d3bb1223b819325e0bd23c81f2733?src=pr&el=desc) will **decrease** coverage by `1.24%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/8/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master       #8      +/-   ##\n==========================================\n- Coverage     100%   98.75%   -1.25%     \n==========================================\n  Files           5        5              \n  Lines         241      241              \n==========================================\n- Hits          241      238       -3     \n- Misses          0        2       +2     \n- Partials        0        1       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/8/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/8/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `97.19% <0%> (-2.81%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=footer). Last update [666635c...afd6871](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416794871/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3182,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416803651"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-416803651"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":416803651,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxNjgwMzY1MQ=="",""user"":{""login"":""hongli-my"",""id"":8597823,""node_id"":""MDQ6VXNlcjg1OTc4MjM="",""avatar_url"":""https://avatars.githubusercontent.com/u/8597823?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/hongli-my"",""html_url"":""https://github.com/hongli-my"",""followers_url"":""https://api.github.com/users/hongli-my/followers"",""following_url"":""https://api.github.com/users/hongli-my/following{/other_user}"",""gists_url"":""https://api.github.com/users/hongli-my/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/hongli-my/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/hongli-my/subscriptions"",""organizations_url"":""https://api.github.com/users/hongli-my/orgs"",""repos_url"":""https://api.github.com/users/hongli-my/repos"",""events_url"":""https://api.github.com/users/hongli-my/events{/privacy}"",""received_events_url"":""https://api.github.com/users/hongli-my/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-29T02:34:07Z"",""updated_at"":""2018-08-29T02:34:38Z"",""author_association"":""NONE"",""body"":""```n := 0\r\n\t\tfor i, w := range idleWorkers {\r\n\t\t\tif currentTime.Sub(w.recycleTime) <= p.expiryDuration {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tn = i\r\n\t\t\tw.args <- nil\r\n\t\t\tidleWorkers[i] = nil\r\n\t\t}\r\n\t\tn++\r\n\t\tif n >= len(idleWorkers) {\r\n\t\t\tp.workers = idleWorkers[:0]\r\n\t\t} else {\r\n\t\t\tp.workers = idleWorkers[n:]\r\n\t\t}```\r\nfor 循环中，如果for 循环没有满足条件，n 并没有复制，此时n ++,   n 变为1， p.workers = idleWorkers[1:],  idleWorkers[0] 丢弃了？ 但是并没有w.args <- nil 操作"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416803651/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3183,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416818094"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-416818094"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":416818094,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxNjgxODA5NA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-08-29T04:11:17Z"",""updated_at"":""2018-08-29T04:11:17Z"",""author_association"":""OWNER"",""body"":""@hongli-my 嗯，我知道了，但是你的修改似乎不完整，我已经在develop分支改了一版，要不你看下那个分支，然后按照那个再改一下，然后我再merge"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/416818094/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3184,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418287926"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-418287926"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":418287926,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxODI4NzkyNg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-04T08:40:06Z"",""updated_at"":""2018-09-04T08:40:06Z"",""author_association"":""OWNER"",""body"":""会导致很多任务长时间在阻塞，至于cpu飙升应该不会"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418287926/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3185,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418290090"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-418290090"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":418290090,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxODI5MDA5MA=="",""user"":{""login"":""Moonlight-Zhao"",""id"":11763614,""node_id"":""MDQ6VXNlcjExNzYzNjE0"",""avatar_url"":""https://avatars.githubusercontent.com/u/11763614?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/Moonlight-Zhao"",""html_url"":""https://github.com/Moonlight-Zhao"",""followers_url"":""https://api.github.com/users/Moonlight-Zhao/followers"",""following_url"":""https://api.github.com/users/Moonlight-Zhao/following{/other_user}"",""gists_url"":""https://api.github.com/users/Moonlight-Zhao/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/Moonlight-Zhao/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/Moonlight-Zhao/subscriptions"",""organizations_url"":""https://api.github.com/users/Moonlight-Zhao/orgs"",""repos_url"":""https://api.github.com/users/Moonlight-Zhao/repos"",""events_url"":""https://api.github.com/users/Moonlight-Zhao/events{/privacy}"",""received_events_url"":""https://api.github.com/users/Moonlight-Zhao/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-04T08:47:39Z"",""updated_at"":""2018-09-04T08:47:39Z"",""author_association"":""NONE"",""body"":""所以应该在goroutine中调用submit 否则会阻塞主任务"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418290090/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3186,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418293975"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-418293975"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":418293975,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxODI5Mzk3NQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-04T09:00:55Z"",""updated_at"":""2018-09-04T09:00:55Z"",""author_association"":""OWNER"",""body"":""不是的，如果每一个submit都用一个goroutine那不就违背初衷了吗，这样的话你有多少个任务还是要启动多少个原生goroutine。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418293975/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3187,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418297020"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-418297020"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":418297020,""node_id"":""MDEyOklzc3VlQ29tbWVudDQxODI5NzAyMA=="",""user"":{""login"":""Moonlight-Zhao"",""id"":11763614,""node_id"":""MDQ6VXNlcjExNzYzNjE0"",""avatar_url"":""https://avatars.githubusercontent.com/u/11763614?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/Moonlight-Zhao"",""html_url"":""https://github.com/Moonlight-Zhao"",""followers_url"":""https://api.github.com/users/Moonlight-Zhao/followers"",""following_url"":""https://api.github.com/users/Moonlight-Zhao/following{/other_user}"",""gists_url"":""https://api.github.com/users/Moonlight-Zhao/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/Moonlight-Zhao/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/Moonlight-Zhao/subscriptions"",""organizations_url"":""https://api.github.com/users/Moonlight-Zhao/orgs"",""repos_url"":""https://api.github.com/users/Moonlight-Zhao/repos"",""events_url"":""https://api.github.com/users/Moonlight-Zhao/events{/privacy}"",""received_events_url"":""https://api.github.com/users/Moonlight-Zhao/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-04T09:11:37Z"",""updated_at"":""2018-09-04T09:11:37Z"",""author_association"":""NONE"",""body"":""// Submit submits a task to this pool.\r\nfunc (p *Pool) Submit(task f) error {\r\n\tif len(p.release) > 0 {\r\n\t\treturn ErrPoolClosed\r\n\t}\r\n\tp.getWorker().task <- task\r\n\treturn nil\r\n}\r\n我是觉得p.getWorker()  阻塞不太好 ，这样主任务和pool没有彻底隔离"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/418297020/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3188,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/421884048"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-421884048"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":421884048,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyMTg4NDA0OA=="",""user"":{""login"":""ylwangs"",""id"":29241786,""node_id"":""MDQ6VXNlcjI5MjQxNzg2"",""avatar_url"":""https://avatars.githubusercontent.com/u/29241786?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/ylwangs"",""html_url"":""https://github.com/ylwangs"",""followers_url"":""https://api.github.com/users/ylwangs/followers"",""following_url"":""https://api.github.com/users/ylwangs/following{/other_user}"",""gists_url"":""https://api.github.com/users/ylwangs/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/ylwangs/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/ylwangs/subscriptions"",""organizations_url"":""https://api.github.com/users/ylwangs/orgs"",""repos_url"":""https://api.github.com/users/ylwangs/repos"",""events_url"":""https://api.github.com/users/ylwangs/events{/privacy}"",""received_events_url"":""https://api.github.com/users/ylwangs/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-17T03:37:44Z"",""updated_at"":""2018-09-17T03:37:44Z"",""author_association"":""NONE"",""body"":""对于worker中的chan应该也需要close吧，当协程数量增大时，这种也是一种消耗"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/421884048/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3189,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425014962"",""html_url"":""https://github.com/panjf2000/ants/issues/12#issuecomment-425014962"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/12"",""id"":425014962,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTAxNDk2Mg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-27T09:00:40Z"",""updated_at"":""2018-09-27T09:00:40Z"",""author_association"":""OWNER"",""body"":""我晚上回去就打一下新的tag，完了我再给你回一个邮件\r\n\r\nedcismybrother <notifications@github.com> 于2018年9月27日周四 下午4:32写道：\r\n\r\n> 鄙人现在在弄dep依赖管理，有用到你写的ants项目，可是你好像忘记打最新的tag了。最新的tag\r\n> 3.6是指向ed55924这个提交，git上的最新代码是af376f1b这次提交，两次提交都隔了快5个月了，看到的话，麻烦打一个最新的tag吧。（手动可怜）\r\n>\r\n> —\r\n> You are receiving this because you are subscribed to this thread.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/panjf2000/ants/issues/12>, or mute the thread\r\n> <https://github.com/notifications/unsubscribe-auth/AHJiVu1xmx5uoFGBcSu6te_iHFwf7IPEks5ufI0egaJpZM4W8KCS>\r\n> .\r\n>\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425014962/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3190,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425018770"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425018770"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425018770,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTAxODc3MA=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-27T09:13:01Z"",""updated_at"":""2018-09-27T09:13:49Z"",""author_association"":""CONTRIBUTOR"",""body"":""我觉得这个会导致cpu上升。调用Submit时，如果没有多余的worker，会一直进入这个死循环\r\n```\t\t\r\nfor {\r\n\t\t\tp.lock.Lock()\r\n\t\t\tidleWorkers = p.workers\r\n\t\t\tl := len(idleWorkers) - 1\r\n\t\t\tif l < 0 {\r\n\t\t\t\tp.lock.Unlock()\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tw = idleWorkers[l]\r\n\t\t\tidleWorkers[l] = nil\r\n\t\t\tp.workers = idleWorkers[:l]\r\n\t\t\tp.lock.Unlock()\r\n\t\t\tbreak\r\n\t\t}\r\n```\r\n一直会continue，直到有空闲的worker，这样会阻塞调用Submit的goroutine."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425018770/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3191,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425061837"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425061837"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425061837,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTA2MTgzNw=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-27T11:53:26Z"",""updated_at"":""2018-09-27T11:53:26Z"",""author_association"":""CONTRIBUTOR"",""body"":""![snip20180927_3](https://user-images.githubusercontent.com/12890888/46144182-c4efe200-c28e-11e8-8e69-ffd4502e3b9e.png)\r\n\r\ncpu占用率一直接近100%\r\n\r\n![snip20180927_4](https://user-images.githubusercontent.com/12890888/46144221-ddf89300-c28e-11e8-985b-48437eb20cdc.png)\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425061837/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3192,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425062926"",""html_url"":""https://github.com/panjf2000/ants/issues/12#issuecomment-425062926"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/12"",""id"":425062926,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTA2MjkyNg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-27T11:57:31Z"",""updated_at"":""2018-09-27T11:57:31Z"",""author_association"":""OWNER"",""body"":""tag更新了，v3.7\r\n\r\nAndy Pan <panjf2000@gmail.com> 于2018年9月27日周四 下午5:00写道：\r\n\r\n> 我晚上回去就打一下新的tag，完了我再给你回一个邮件\r\n>\r\n> edcismybrother <notifications@github.com> 于2018年9月27日周四 下午4:32写道：\r\n>\r\n>> 鄙人现在在弄dep依赖管理，有用到你写的ants项目，可是你好像忘记打最新的tag了。最新的tag\r\n>> 3.6是指向ed55924这个提交，git上的最新代码是af376f1b这次提交，两次提交都隔了快5个月了，看到的话，麻烦打一个最新的tag吧。（手动可怜）\r\n>>\r\n>> —\r\n>> You are receiving this because you are subscribed to this thread.\r\n>> Reply to this email directly, view it on GitHub\r\n>> <https://github.com/panjf2000/ants/issues/12>, or mute the thread\r\n>> <https://github.com/notifications/unsubscribe-auth/AHJiVu1xmx5uoFGBcSu6te_iHFwf7IPEks5ufI0egaJpZM4W8KCS>\r\n>> .\r\n>>\r\n>\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425062926/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3193,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425066089"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425066089"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425066089,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTA2NjA4OQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-27T12:07:30Z"",""updated_at"":""2018-09-27T12:07:30Z"",""author_association"":""OWNER"",""body"":""@liyonglion 这个例子看起来有点极端，因为只有两个任务，pool容量是1，所以剩下那个不断在自己加锁解锁导致cpu忙，如果是多个竞争的大部分是block状态，应该不会出现这种cpu满的情况，不然你把例子改改？增加提交的任务数再看看，看看还会不会出现这种情况。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425066089/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3194,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425288734"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425288734"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425288734,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTI4ODczNA=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T01:09:40Z"",""updated_at"":""2018-09-28T01:09:40Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000  ants比较适合做“短期”任务，如果存在大量的“长期”任务，很有可能导致死循环。为什么不block当前Submit的“线程”？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425288734/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3195,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425293042"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425293042"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425293042,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTI5MzA0Mg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T01:37:17Z"",""updated_at"":""2018-09-28T01:37:27Z"",""author_association"":""OWNER"",""body"":""@liyonglion 之前有用过chan阻塞等待，但是导致了一个死锁问题：#6，后来才改成这种形式。所以我说的增加submit的任务数再测试之后也是cpu 100%吗？这个问题我现在暂时没想到比较好的解决办法，我再想想，或者你有没有比较好的想法？可以提个pr。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425293042/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3196,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425331360"",""html_url"":""https://github.com/panjf2000/ants/issues/12#issuecomment-425331360"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/12"",""id"":425331360,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTMzMTM2MA=="",""user"":{""login"":""edcismybrother"",""id"":29452204,""node_id"":""MDQ6VXNlcjI5NDUyMjA0"",""avatar_url"":""https://avatars.githubusercontent.com/u/29452204?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/edcismybrother"",""html_url"":""https://github.com/edcismybrother"",""followers_url"":""https://api.github.com/users/edcismybrother/followers"",""following_url"":""https://api.github.com/users/edcismybrother/following{/other_user}"",""gists_url"":""https://api.github.com/users/edcismybrother/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/edcismybrother/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/edcismybrother/subscriptions"",""organizations_url"":""https://api.github.com/users/edcismybrother/orgs"",""repos_url"":""https://api.github.com/users/edcismybrother/repos"",""events_url"":""https://api.github.com/users/edcismybrother/events{/privacy}"",""received_events_url"":""https://api.github.com/users/edcismybrother/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T06:05:58Z"",""updated_at"":""2018-09-28T06:05:58Z"",""author_association"":""NONE"",""body"":""@panjf2000 可以的，谢谢啦"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425331360/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3197,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425409255"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425409255"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425409255,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQwOTI1NQ=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T11:41:08Z"",""updated_at"":""2018-09-28T11:41:08Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000  我提交了一个pr，你看下是否合理？我自己跑了上面的用例，没有问题。效率方面我还没有具体测试。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425409255/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3198,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425423023"",""html_url"":""https://github.com/panjf2000/ants/issues/10#issuecomment-425423023"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/10"",""id"":425423023,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQyMzAyMw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T12:41:27Z"",""updated_at"":""2018-09-28T12:43:06Z"",""author_association"":""OWNER"",""body"":""@liyonglion 我看修改的代码应该是正确的，但是有两个问题：\r\n1. 要正确测试你pr，你要把ants_test.go里import ants的路径改成你自己的路径；\r\n2.你现在只修改了pool.go的代码，麻烦把pool_func.go里相应的地方也优化一下。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425423023/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3199,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425423544"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425423544"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425423544,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQyMzU0NA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T12:43:30Z"",""updated_at"":""2018-09-28T12:44:42Z"",""author_association"":""OWNER"",""body"":""@liyonglion 我看修改的代码应该是正确的，但是有两个问题：\r\n1. 要正确测试你pr，你要把ants_test.go里import ants的路径改成你自己的路径；\r\n2. 你现在只修改了pool.go的代码，麻烦把pool_func.go里相应的地方也优化一下。\r\n\r\n你重新修改一下pr，然后通过测试，我就merge了。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425423544/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3200,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425428914"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425428914"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425428914,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQyODkxNA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T13:03:48Z"",""updated_at"":""2018-09-28T13:05:17Z"",""author_association"":""OWNER"",""body"":""我又仔细地想了想，在putWorker方法中，调用p.cond.Signal()之前，p.lock已经解锁了，如果这时候被\r\n![image](https://user-images.githubusercontent.com/7496278/46209831-824b0a00-c361-11e8-9109-609d21bab572.png)\r\n这里获得锁，则空闲队列中的刚刚放入的worker会被取出，这时候p.cond.Wait()再获得锁去队列中取worker的时候就会取不到，len(p.workers) - 1就会是-1，会报错：index out of range，和https://github.com/panjf2000/ants/issues/6 相似的问题，所以p.cond.Signal()应该放在putWorker中的p.lock.Lock()和p.lock.Unlock()之间。\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425428914/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3201,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425431081"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425431081"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425431081,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQzMTA4MQ=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T13:12:08Z"",""updated_at"":""2018-09-28T13:12:08Z"",""author_association"":""CONTRIBUTOR"",""body"":""我明天仔细研究下。如果这个地方的死锁不好解决，其实可以使用另外一把锁，专门给条件变量使用。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425431081/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3202,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425432498"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425432498"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425432498,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQzMjQ5OA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T13:17:44Z"",""updated_at"":""2018-09-28T13:17:57Z"",""author_association"":""OWNER"",""body"":""单一操作变量最好不要有多个锁，这样引发死锁的概率会非常高。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425432498/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3203,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425438107"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425438107"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425438107,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQzODEwNw=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T13:37:48Z"",""updated_at"":""2018-09-28T13:37:48Z"",""author_association"":""CONTRIBUTOR"",""body"":""新的锁只给条件变量使用，其他任何地方都不会使用。如果怕死锁，明天我封装一层，pool层只有一把锁。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425438107/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3204,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425439137"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425439137"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425439137,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTQzOTEzNw=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-28T13:41:20Z"",""updated_at"":""2018-09-28T13:41:20Z"",""author_association"":""CONTRIBUTOR"",""body"":""封装一层后，按照你的思路修改应该就可以了。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425439137/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3205,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425608265"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425608265"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425608265,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYwODI2NQ=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T02:22:39Z"",""updated_at"":""2018-09-29T02:22:39Z"",""author_association"":""CONTRIBUTOR"",""body"":""看了下代码，你说的没错。我在测试下性能方面"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425608265/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3206,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425609411"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425609411"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425609411,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYwOTQxMQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T02:41:56Z"",""updated_at"":""2018-09-29T02:43:26Z"",""author_association"":""OWNER"",""body"":""![image](https://user-images.githubusercontent.com/7496278/46240052-34bbb500-c3d4-11e8-809b-46b429039aee.png)\r\n你这改的有问题，取出来后没有对workers队列缩容，现在Travis CI整个卡住了"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425609411/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3207,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425609608"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425609608"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425609608,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYwOTYwOA=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T02:45:23Z"",""updated_at"":""2018-09-29T02:45:23Z"",""author_association"":""CONTRIBUTOR"",""body"":""嗯，到时候我会补上。容我再想想"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425609608/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3208,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425622339"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425622339"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425622339,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYyMjMzOQ=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T07:02:56Z"",""updated_at"":""2018-09-29T07:02:56Z"",""author_association"":""CONTRIBUTOR"",""body"":""性能测试如下：\r\n100w的并发，5w的goroutine\r\n![snip20180929_3](https://user-images.githubusercontent.com/12890888/46242225-93932580-c3f8-11e8-841c-fc7fc620313d.png)\r\n\r\n![snip20180929_5](https://user-images.githubusercontent.com/12890888/46242227-9beb6080-c3f8-11e8-80fa-5d01da9aba19.png)\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425622339/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3209,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425622437"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425622437"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425622437,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYyMjQzNw=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-09-29T07:05:01Z"",""updated_at"":""2018-09-29T07:07:34Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=h1) Report\n> Merging [#13](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/af376f1b7b59dc488458bcecd4273f0fcde33c55?src=pr&el=desc) will **decrease** coverage by `90.38%`.\n> The diff coverage is `5%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/13/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #13       +/-   ##\n==========================================\n- Coverage   98.75%   8.36%   -90.39%     \n==========================================\n  Files           5       5               \n  Lines         241     239        -2     \n==========================================\n- Hits          238      20      -218     \n- Misses          1     214      +213     \n- Partials        2       5        +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `0% <0%> (-97.23%)` | :arrow_down: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `18.86% <10%> (-81.14%)` | :arrow_down: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `0% <0%> (-100%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `0% <0%> (-100%)` | :arrow_down: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `0% <0%> (-100%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=footer). Last update [af376f1...1846b43](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425622437/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3210,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425623081"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425623081"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425623081,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYyMzA4MQ=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T07:16:02Z"",""updated_at"":""2018-09-29T07:16:02Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000  这个覆盖率怎么看？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425623081/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3211,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632550"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425632550"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425632550,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzMjU1MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T09:53:47Z"",""updated_at"":""2018-09-29T09:53:47Z"",""author_association"":""OWNER"",""body"":""怎么会有负数。。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632550/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3212,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632613"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425632613"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425632613,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzMjYxMw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T09:54:48Z"",""updated_at"":""2018-09-29T09:54:48Z"",""author_association"":""OWNER"",""body"":""而且你那个取出worker之后还是没有对队列进行缩容吧"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632613/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3213,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632632"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425632632"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425632632,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzMjYzMg=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T09:55:07Z"",""updated_at"":""2018-09-29T09:55:07Z"",""author_association"":""CONTRIBUTOR"",""body"":""这个我没玩过。。。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632632/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3214,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632777"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425632777"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425632777,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzMjc3Nw=="",""user"":{""login"":""liyonglion"",""id"":12890888,""node_id"":""MDQ6VXNlcjEyODkwODg4"",""avatar_url"":""https://avatars.githubusercontent.com/u/12890888?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/liyonglion"",""html_url"":""https://github.com/liyonglion"",""followers_url"":""https://api.github.com/users/liyonglion/followers"",""following_url"":""https://api.github.com/users/liyonglion/following{/other_user}"",""gists_url"":""https://api.github.com/users/liyonglion/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/liyonglion/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/liyonglion/subscriptions"",""organizations_url"":""https://api.github.com/users/liyonglion/orgs"",""repos_url"":""https://api.github.com/users/liyonglion/repos"",""events_url"":""https://api.github.com/users/liyonglion/events{/privacy}"",""received_events_url"":""https://api.github.com/users/liyonglion/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T09:57:34Z"",""updated_at"":""2018-09-29T09:57:34Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000  我缩容了，具体哪个地方？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425632777/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3215,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425637776"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425637776"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425637776,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzNzc3Ng=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T11:25:56Z"",""updated_at"":""2018-09-29T11:25:56Z"",""author_association"":""OWNER"",""body"":""@liyonglion 我看错了，缩容的补上了，这块没什么问题了，关于覆盖率这块我明天再查查。。。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425637776/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3216,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425637938"",""html_url"":""https://github.com/panjf2000/ants/pull/13#issuecomment-425637938"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/13"",""id"":425637938,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTYzNzkzOA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-09-29T11:29:28Z"",""updated_at"":""2018-09-29T11:29:28Z"",""author_association"":""OWNER"",""body"":""哦，我知道了，应该是那个import路径的问题导致的，那我先merge一下代码"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425637938/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3217,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425896318"",""html_url"":""https://github.com/panjf2000/ants/pull/14#issuecomment-425896318"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/14"",""id"":425896318,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTg5NjMxOA=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-10-01T12:53:39Z"",""updated_at"":""2018-10-02T01:27:19Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=h1) Report\n> Merging [#14](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/1b62696050b7030106291980d5220f886b017eff?src=pr&el=desc) will **decrease** coverage by `2.12%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/14/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master     #14      +/-   ##\n=========================================\n- Coverage   98.32%   96.2%   -2.13%     \n=========================================\n  Files           5       5              \n  Lines         239     237       -2     \n=========================================\n- Hits          235     228       -7     \n- Misses          2       4       +2     \n- Partials        2       5       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/14/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.19% <100%> (-1.93%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/14/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `95.28% <100%> (-2.85%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=footer). Last update [1b62696...5ed1687](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425896318/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3218,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425906970"",""html_url"":""https://github.com/panjf2000/ants/pull/14#issuecomment-425906970"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/14"",""id"":425906970,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNTkwNjk3MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-01T13:27:04Z"",""updated_at"":""2018-10-02T13:52:03Z"",""author_association"":""OWNER"",""body"":""thanks for your correction and could you also modify the pool_func.go cuz there is also the same useless statement in that file. i will accept this pr after your modification is done, thanks."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/425906970/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3219,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426537013"",""html_url"":""https://github.com/panjf2000/ants/pull/15#issuecomment-426537013"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/15"",""id"":426537013,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNjUzNzAxMw=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-10-03T07:23:08Z"",""updated_at"":""2018-10-03T07:25:16Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=h1) Report\n> Merging [#15](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/29730bb70343924a2f56a13a9799611dd1cd27fd?src=pr&el=desc) will **decrease** coverage by `0.84%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/15/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master     #15      +/-   ##\n=========================================\n- Coverage   97.04%   96.2%   -0.85%     \n=========================================\n  Files           5       5              \n  Lines         237     237              \n=========================================\n- Hits          230     228       -2     \n- Misses          3       4       +1     \n- Partials        4       5       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/15/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.19% <0%> (-1.91%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=footer). Last update [29730bb...3070771](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426537013/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3220,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426596957"",""html_url"":""https://github.com/panjf2000/ants/pull/15#issuecomment-426596957"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/15"",""id"":426596957,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNjU5Njk1Nw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-03T11:05:45Z"",""updated_at"":""2018-10-03T12:02:17Z"",""author_association"":""OWNER"",""body"":""@egonelbre thanks for your interest in this repository and i got some puzzles.\r\nfirstly, i don't understand why you use both the chan struct{} and sync.WaitGroup at once, that seems a bit excessive cuz waitgroup and chan did the same thing.\r\nsecondly, method BenchmarkGoroutine was design to test throughput so it should run without waitgroup."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426596957/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3221,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426604764"",""html_url"":""https://github.com/panjf2000/ants/pull/15#issuecomment-426604764"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/15"",""id"":426604764,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyNjYwNDc2NA=="",""user"":{""login"":""egonelbre"",""id"":192964,""node_id"":""MDQ6VXNlcjE5Mjk2NA=="",""avatar_url"":""https://avatars.githubusercontent.com/u/192964?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/egonelbre"",""html_url"":""https://github.com/egonelbre"",""followers_url"":""https://api.github.com/users/egonelbre/followers"",""following_url"":""https://api.github.com/users/egonelbre/following{/other_user}"",""gists_url"":""https://api.github.com/users/egonelbre/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/egonelbre/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/egonelbre/subscriptions"",""organizations_url"":""https://api.github.com/users/egonelbre/orgs"",""repos_url"":""https://api.github.com/users/egonelbre/repos"",""events_url"":""https://api.github.com/users/egonelbre/events{/privacy}"",""received_events_url"":""https://api.github.com/users/egonelbre/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-03T11:37:48Z"",""updated_at"":""2018-10-03T11:37:48Z"",""author_association"":""CONTRIBUTOR"",""body"":""Hi, semaphore acts as protection to avoid starting too many goroutines at once. `WaitGroup` is used to wait for everything to complete.\r\n\r\n`BenchmarkGoroutine` doesn't wait for all the goroutines to finish, so you are testing goroutine startup speed rather than throughput. It's somewhat unclear what you mean by \""throughput\"" in this case, but either way you would need to wait for all goroutines to finish, otherwise they will start affecting all other benchmarks. If you do want to benchmark goroutine startup speed, then you would need to add `b.StopTimer` before `wg.Wait`."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/426604764/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3222,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/429609579"",""html_url"":""https://github.com/panjf2000/ants/pull/16#issuecomment-429609579"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/16"",""id"":429609579,""node_id"":""MDEyOklzc3VlQ29tbWVudDQyOTYwOTU3OQ=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-10-14T09:24:39Z"",""updated_at"":""2018-10-15T02:11:38Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=h1) Report\n> Merging [#16](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/711dbdb7a222771ce15aaee1bb7b7c6e9731f208?src=pr&el=desc) will **decrease** coverage by `2.03%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/16/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #16      +/-   ##\n==========================================\n- Coverage   97.46%   95.43%   -2.04%     \n==========================================\n  Files           5        5              \n  Lines         237      241       +4     \n==========================================\n- Hits          231      230       -1     \n- Misses          3        5       +2     \n- Partials        3        6       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/16/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `94.39% <0%> (-1.8%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/16/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `95.37% <0%> (-2.75%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=footer). Last update [711dbdb...439348b](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/429609579/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3223,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/433821356"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-433821356"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":433821356,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzMzgyMTM1Ng=="",""user"":{""login"":""choleraehyq"",""id"":8923413,""node_id"":""MDQ6VXNlcjg5MjM0MTM="",""avatar_url"":""https://avatars.githubusercontent.com/u/8923413?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/choleraehyq"",""html_url"":""https://github.com/choleraehyq"",""followers_url"":""https://api.github.com/users/choleraehyq/followers"",""following_url"":""https://api.github.com/users/choleraehyq/following{/other_user}"",""gists_url"":""https://api.github.com/users/choleraehyq/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/choleraehyq/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/choleraehyq/subscriptions"",""organizations_url"":""https://api.github.com/users/choleraehyq/orgs"",""repos_url"":""https://api.github.com/users/choleraehyq/repos"",""events_url"":""https://api.github.com/users/choleraehyq/events{/privacy}"",""received_events_url"":""https://api.github.com/users/choleraehyq/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-29T08:10:59Z"",""updated_at"":""2018-10-29T08:10:59Z"",""author_association"":""CONTRIBUTOR"",""body"":""这种bugfix是不是应该赶紧修了？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/433821356/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3224,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/434126048"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-434126048"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":434126048,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzNDEyNjA0OA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-30T00:10:32Z"",""updated_at"":""2018-10-30T00:10:32Z"",""author_association"":""OWNER"",""body"":""@choleraehyq 这个很早就已经修复了这个pr一直忘了关。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/434126048/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3225,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/434126349"",""html_url"":""https://github.com/panjf2000/ants/pull/8#issuecomment-434126349"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/8"",""id"":434126349,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzNDEyNjM0OQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-10-30T00:12:13Z"",""updated_at"":""2018-10-30T00:12:13Z"",""author_association"":""OWNER"",""body"":""@MrDragon1122 一般来说channel是不需要显式close的，只要没有goroutine持有channel，相关资源会自动释放。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/434126349/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3226,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439758381"",""html_url"":""https://github.com/panjf2000/ants/pull/19#issuecomment-439758381"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/19"",""id"":439758381,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc1ODM4MQ=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2018-11-19T03:06:06Z"",""updated_at"":""2018-11-19T03:11:18Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=h1) Report\n> Merging [#19](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=desc) into [develop](https://codecov.io/gh/panjf2000/ants/commit/92acf74bb71c1dc1758c61346c88325284978b3e?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/19/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           develop      #19      +/-   ##\n===========================================\n+ Coverage    97.46%   97.48%   +0.02%     \n===========================================\n  Files            5        5              \n  Lines          237      239       +2     \n===========================================\n+ Hits           231      233       +2     \n  Misses           3        3              \n  Partials         3        3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/19/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.22% <100%> (+0.03%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/19/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `98.13% <100%> (+0.01%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=footer). Last update [92acf74...e7bacd0](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439758381/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3227,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439758480"",""html_url"":""https://github.com/panjf2000/ants/pull/19#issuecomment-439758480"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/19"",""id"":439758480,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc1ODQ4MA=="",""user"":{""login"":""zplzpl"",""id"":7931755,""node_id"":""MDQ6VXNlcjc5MzE3NTU="",""avatar_url"":""https://avatars.githubusercontent.com/u/7931755?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/zplzpl"",""html_url"":""https://github.com/zplzpl"",""followers_url"":""https://api.github.com/users/zplzpl/followers"",""following_url"":""https://api.github.com/users/zplzpl/following{/other_user}"",""gists_url"":""https://api.github.com/users/zplzpl/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/zplzpl/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/zplzpl/subscriptions"",""organizations_url"":""https://api.github.com/users/zplzpl/orgs"",""repos_url"":""https://api.github.com/users/zplzpl/repos"",""events_url"":""https://api.github.com/users/zplzpl/events{/privacy}"",""received_events_url"":""https://api.github.com/users/zplzpl/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-19T03:06:50Z"",""updated_at"":""2018-11-19T03:07:36Z"",""author_association"":""NONE"",""body"":""我自己写了测试示例\r\n重复\r\nants.NewPoolWithFunc()\r\n然后\r\n进行Resize(0) && Release\r\n但仍发现内存泄漏现象，追溯到了NewTicker没有进行Stop可能导致\r\n\r\nflat  flat%   sum%        cum   cum%\r\n\r\n 7168.57kB 77.60% 77.60%  7168.57kB 77.60%  time.NewTicker\r\n\r\n\r\n\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439758480/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3228,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439781607"",""html_url"":""https://github.com/panjf2000/ants/pull/19#issuecomment-439781607"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/19"",""id"":439781607,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc4MTYwNw=="",""user"":{""login"":""zplzpl"",""id"":7931755,""node_id"":""MDQ6VXNlcjc5MzE3NTU="",""avatar_url"":""https://avatars.githubusercontent.com/u/7931755?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/zplzpl"",""html_url"":""https://github.com/zplzpl"",""followers_url"":""https://api.github.com/users/zplzpl/followers"",""following_url"":""https://api.github.com/users/zplzpl/following{/other_user}"",""gists_url"":""https://api.github.com/users/zplzpl/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/zplzpl/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/zplzpl/subscriptions"",""organizations_url"":""https://api.github.com/users/zplzpl/orgs"",""repos_url"":""https://api.github.com/users/zplzpl/repos"",""events_url"":""https://api.github.com/users/zplzpl/events{/privacy}"",""received_events_url"":""https://api.github.com/users/zplzpl/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-19T06:07:43Z"",""updated_at"":""2018-11-19T06:07:43Z"",""author_association"":""NONE"",""body"":""突然看到一个PR有更完善的解决方式，不知道为啥没有PR成功"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439781607/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3229,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439792581"",""html_url"":""https://github.com/panjf2000/ants/issues/18#issuecomment-439792581"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/18"",""id"":439792581,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc5MjU4MQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-19T07:10:47Z"",""updated_at"":""2018-11-19T07:10:47Z"",""author_association"":""OWNER"",""body"":""GOMAXPROCS你可以理解成是G-P-M模型中的M的数量，也就是最大并行数。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439792581/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3230,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439793352"",""html_url"":""https://github.com/panjf2000/ants/pull/19#issuecomment-439793352"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/19"",""id"":439793352,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc5MzM1Mg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-19T07:14:58Z"",""updated_at"":""2018-11-19T07:14:58Z"",""author_association"":""OWNER"",""body"":""另外一个pr跟你大概是完成类似的功能，不过那个failed之后作者就没再更新了，所以就没有merge，你要是有时间不如参考下他的代码再优化下？就放到这个pr里。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439793352/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3231,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439793939"",""html_url"":""https://github.com/panjf2000/ants/issues/17#issuecomment-439793939"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/17"",""id"":439793939,""node_id"":""MDEyOklzc3VlQ29tbWVudDQzOTc5MzkzOQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-19T07:18:05Z"",""updated_at"":""2018-11-19T07:18:05Z"",""author_association"":""OWNER"",""body"":""release的确有这个问题，目前还没有比较好的办法，只是等待定时销毁的那个goroutine去释放内存，你要是有兴趣可以再想想有没有更好的办法，可以提个pr"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/439793939/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3232,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440207809"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440207809"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440207809,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDIwNzgwOQ=="",""user"":{""login"":""kklinan"",""id"":5668717,""node_id"":""MDQ6VXNlcjU2Njg3MTc="",""avatar_url"":""https://avatars.githubusercontent.com/u/5668717?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/kklinan"",""html_url"":""https://github.com/kklinan"",""followers_url"":""https://api.github.com/users/kklinan/followers"",""following_url"":""https://api.github.com/users/kklinan/following{/other_user}"",""gists_url"":""https://api.github.com/users/kklinan/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/kklinan/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/kklinan/subscriptions"",""organizations_url"":""https://api.github.com/users/kklinan/orgs"",""repos_url"":""https://api.github.com/users/kklinan/repos"",""events_url"":""https://api.github.com/users/kklinan/events{/privacy}"",""received_events_url"":""https://api.github.com/users/kklinan/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-20T09:41:24Z"",""updated_at"":""2018-11-20T09:41:24Z"",""author_association"":""NONE"",""body"":""https://github.com/panjf2000/ants/blob/711dbdb7a222771ce15aaee1bb7b7c6e9731f208/pool.go#L119"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440207809/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3233,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440263871"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440263871"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440263871,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDI2Mzg3MQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-20T12:56:13Z"",""updated_at"":""2018-11-20T12:56:13Z"",""author_association"":""OWNER"",""body"":""这里可以讨论下，是否可以在任务函数里通过闭包的形式，将结果存入channel，满足你的需求？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440263871/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3234,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440500490"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440500490"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440500490,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDUwMDQ5MA=="",""user"":{""login"":""kklinan"",""id"":5668717,""node_id"":""MDQ6VXNlcjU2Njg3MTc="",""avatar_url"":""https://avatars.githubusercontent.com/u/5668717?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/kklinan"",""html_url"":""https://github.com/kklinan"",""followers_url"":""https://api.github.com/users/kklinan/followers"",""following_url"":""https://api.github.com/users/kklinan/following{/other_user}"",""gists_url"":""https://api.github.com/users/kklinan/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/kklinan/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/kklinan/subscriptions"",""organizations_url"":""https://api.github.com/users/kklinan/orgs"",""repos_url"":""https://api.github.com/users/kklinan/repos"",""events_url"":""https://api.github.com/users/kklinan/events{/privacy}"",""received_events_url"":""https://api.github.com/users/kklinan/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-21T02:00:22Z"",""updated_at"":""2018-11-21T02:00:22Z"",""author_association"":""NONE"",""body"":""> 这里可以讨论下，是否可以在任务函数里通过闭包的形式，将结果存入channel，满足你的需求？\r\n\r\n可以的。但不仅仅如此，最重要的是想得到哪条消息失败了，方便进行下次延时处理或丢回队列。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440500490/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3235,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440541883"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440541883"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440541883,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDU0MTg4Mw=="",""user"":{""login"":""zplzpl"",""id"":7931755,""node_id"":""MDQ6VXNlcjc5MzE3NTU="",""avatar_url"":""https://avatars.githubusercontent.com/u/7931755?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/zplzpl"",""html_url"":""https://github.com/zplzpl"",""followers_url"":""https://api.github.com/users/zplzpl/followers"",""following_url"":""https://api.github.com/users/zplzpl/following{/other_user}"",""gists_url"":""https://api.github.com/users/zplzpl/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/zplzpl/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/zplzpl/subscriptions"",""organizations_url"":""https://api.github.com/users/zplzpl/orgs"",""repos_url"":""https://api.github.com/users/zplzpl/repos"",""events_url"":""https://api.github.com/users/zplzpl/events{/privacy}"",""received_events_url"":""https://api.github.com/users/zplzpl/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-21T05:57:51Z"",""updated_at"":""2018-11-21T06:06:47Z"",""author_association"":""NONE"",""body"":""目前可以通过参数来传入处理失败的chan\r\n\r\ntype msg struct {\r\n……\r\nFailed chan<- *msg\r\n}\r\n\r\n// payload == &msg\r\npool,_:= NewPoolWithFunc(10,func(payload interface{}) error{\r\n……\r\n// 失败的话payload 发送到 Failed chan\r\n})\r\n\r\npool.Serve(msg)"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440541883/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3236,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440605531"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440605531"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440605531,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDYwNTUzMQ=="",""user"":{""login"":""kklinan"",""id"":5668717,""node_id"":""MDQ6VXNlcjU2Njg3MTc="",""avatar_url"":""https://avatars.githubusercontent.com/u/5668717?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/kklinan"",""html_url"":""https://github.com/kklinan"",""followers_url"":""https://api.github.com/users/kklinan/followers"",""following_url"":""https://api.github.com/users/kklinan/following{/other_user}"",""gists_url"":""https://api.github.com/users/kklinan/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/kklinan/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/kklinan/subscriptions"",""organizations_url"":""https://api.github.com/users/kklinan/orgs"",""repos_url"":""https://api.github.com/users/kklinan/repos"",""events_url"":""https://api.github.com/users/kklinan/events{/privacy}"",""received_events_url"":""https://api.github.com/users/kklinan/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-21T10:01:45Z"",""updated_at"":""2018-11-21T10:24:53Z"",""author_association"":""NONE"",""body"":""> 目前可以通过参数来传入处理失败的chan\r\n> \r\n> type msg struct {\r\n> ……\r\n> Failed chan<- *msg\r\n> }\r\n> \r\n> // payload == &msg\r\n> pool,_:= NewPoolWithFunc(10,func(payload interface{}) error{\r\n> ……\r\n> // 失败的话payload 发送到 Failed chan\r\n> })\r\n> \r\n> pool.Serve(msg)\r\n\r\n我目前的做法是没有用 `NewPoolWithFunc()`，而是用的 `ants.NewPool()`，控制整个服务只有一个`pool`，所有的任务都是从大`pool`里取：\r\n\r\n```\r\nfunc (w *Worker) Register(fn func() error, opts ...Option) error {\r\n\t// w.Workers = append(w.Workers, runtime.FuncForPC(reflect.ValueOf(fn).Pointer()).Name())\r\n\top := Op{}\r\n\top.applyOpts(opts)\r\n\r\n\tif op.GoroutineSize <= 1 {\r\n\t\treturn w.Pool.Submit(fn)\r\n\t}\r\n\r\n\tfor i := 0; i < op.GoroutineSize; i++ {\r\n\t\tw.Pool.Submit(fn)\r\n\t}\r\n\r\n\treturn nil\r\n}\r\n```\r\n想基于这种方式来处理失败任务的逻辑。可有方式实现？\r\n\r\n还有任务依赖也是我面临的问题，比如A任务依赖其它N个任务执行完成或者必须执行成功/失败后，触发A任务。当然解决这个问题并非必须靠`ants`框架层面实现，也可以业务实现，如果`ants`框架层面能解决是最完美的。\r\n\r\n不知道你怎么认为。\r\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440605531/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3237,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440876192"",""html_url"":""https://github.com/panjf2000/ants/issues/20#issuecomment-440876192"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/20"",""id"":440876192,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MDg3NjE5Mg=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-22T01:09:56Z"",""updated_at"":""2018-11-22T01:09:56Z"",""author_association"":""OWNER"",""body"":""错误返回，按照ants的设计，其实应该是异步的，目前没办法直接return error到调用的函数里，所以我觉得就算是处理也应该是异步的方式；至于任务依赖，目前想到的有两种办法：1.回调函数；2.消息通知(通过channel或消息队列)，至于是不是要把这些复杂的逻辑加到ants里，有待商榷，或者你也可以推一个pr，大家一起探讨下~~"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/440876192/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3238,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/442366878"",""html_url"":""https://github.com/panjf2000/ants/issues/17#issuecomment-442366878"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/17"",""id"":442366878,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0MjM2Njg3OA=="",""user"":{""login"":""hawklin2017"",""id"":32898629,""node_id"":""MDQ6VXNlcjMyODk4NjI5"",""avatar_url"":""https://avatars.githubusercontent.com/u/32898629?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/hawklin2017"",""html_url"":""https://github.com/hawklin2017"",""followers_url"":""https://api.github.com/users/hawklin2017/followers"",""following_url"":""https://api.github.com/users/hawklin2017/following{/other_user}"",""gists_url"":""https://api.github.com/users/hawklin2017/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/hawklin2017/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/hawklin2017/subscriptions"",""organizations_url"":""https://api.github.com/users/hawklin2017/orgs"",""repos_url"":""https://api.github.com/users/hawklin2017/repos"",""events_url"":""https://api.github.com/users/hawklin2017/events{/privacy}"",""received_events_url"":""https://api.github.com/users/hawklin2017/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-11-28T08:48:17Z"",""updated_at"":""2018-11-28T08:48:17Z"",""author_association"":""NONE"",""body"":""在 pool里面加上一个 waitgroup，每次 启动一个 work，调用 waitgroup.Add()，协程执行完了就执行waitgroup.Done()。在release时候调用waitgroup.Wait()。最后再回收空闲 worker。不过b如果 worker 对于的 func 执行时间过长，会导致release一直等待。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/442366878/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3239,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445462719"",""html_url"":""https://github.com/panjf2000/ants/issues/21#issuecomment-445462719"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/21"",""id"":445462719,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0NTQ2MjcxOQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-12-08T14:20:26Z"",""updated_at"":""2018-12-08T14:20:26Z"",""author_association"":""OWNER"",""body"":""你的go版本是多少？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445462719/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3240,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445496131"",""html_url"":""https://github.com/panjf2000/ants/issues/21#issuecomment-445496131"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/21"",""id"":445496131,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0NTQ5NjEzMQ=="",""user"":{""login"":""huangjunwen"",""id"":720086,""node_id"":""MDQ6VXNlcjcyMDA4Ng=="",""avatar_url"":""https://avatars.githubusercontent.com/u/720086?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/huangjunwen"",""html_url"":""https://github.com/huangjunwen"",""followers_url"":""https://api.github.com/users/huangjunwen/followers"",""following_url"":""https://api.github.com/users/huangjunwen/following{/other_user}"",""gists_url"":""https://api.github.com/users/huangjunwen/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/huangjunwen/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/huangjunwen/subscriptions"",""organizations_url"":""https://api.github.com/users/huangjunwen/orgs"",""repos_url"":""https://api.github.com/users/huangjunwen/repos"",""events_url"":""https://api.github.com/users/huangjunwen/events{/privacy}"",""received_events_url"":""https://api.github.com/users/huangjunwen/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-12-08T22:56:54Z"",""updated_at"":""2018-12-08T22:56:54Z"",""author_association"":""NONE"",""body"":""go version go1.11.1 darwin/amd64\r\n\r\n我也尝试了将几个参数调小一点，结果都是 Semaphore 和 AntsPool 量级上都是差不多的"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445496131/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3241,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445815378"",""html_url"":""https://github.com/panjf2000/ants/issues/21#issuecomment-445815378"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/21"",""id"":445815378,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0NTgxNTM3OA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-12-10T13:30:04Z"",""updated_at"":""2018-12-11T02:52:18Z"",""author_association"":""OWNER"",""body"":""嗯，的确是一个量级。\r\nants的优势是：\r\n1. 内存消耗会小(并发量大的时候几乎可以节省一半的内存量)；\r\n2. goroutine常驻内存（定时清理长时间空置的goroutine，按最后使用时间排序，最久未使用的goroutine最先被清理，进一步降低资源消耗）；\r\n3. ants pool更加灵活可控，可动态调整pool size、手动销毁pool；\r\n4. 还有各类方法获取正在运行的goroutine数量、可用的goroutine数量，使并发程序更精确可控；\r\n......"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/445815378/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3242,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/446447291"",""html_url"":""https://github.com/panjf2000/ants/issues/21#issuecomment-446447291"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/21"",""id"":446447291,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0NjQ0NzI5MQ=="",""user"":{""login"":""huangjunwen"",""id"":720086,""node_id"":""MDQ6VXNlcjcyMDA4Ng=="",""avatar_url"":""https://avatars.githubusercontent.com/u/720086?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/huangjunwen"",""html_url"":""https://github.com/huangjunwen"",""followers_url"":""https://api.github.com/users/huangjunwen/followers"",""following_url"":""https://api.github.com/users/huangjunwen/following{/other_user}"",""gists_url"":""https://api.github.com/users/huangjunwen/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/huangjunwen/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/huangjunwen/subscriptions"",""organizations_url"":""https://api.github.com/users/huangjunwen/orgs"",""repos_url"":""https://api.github.com/users/huangjunwen/repos"",""events_url"":""https://api.github.com/users/huangjunwen/events{/privacy}"",""received_events_url"":""https://api.github.com/users/huangjunwen/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-12-12T03:18:44Z"",""updated_at"":""2018-12-12T03:18:44Z"",""author_association"":""NONE"",""body"":""好的，怎么样测试内存消耗呢？按我理解大家活跃的 go routines 是一样的数目，为什么 ants 的内存消耗会小呢？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/446447291/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3243,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/446453643"",""html_url"":""https://github.com/panjf2000/ants/issues/21#issuecomment-446453643"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/21"",""id"":446453643,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ0NjQ1MzY0Mw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2018-12-12T03:58:29Z"",""updated_at"":""2018-12-12T03:58:29Z"",""author_association"":""OWNER"",""body"":""加上benchmem=true参数；至于为什么内存会更小，是因为在pool里的goroutines是常驻内存的，新的任务是复用goroutine的，而用sema的话只是限制了活跃的goroutine数量，并没有复用，新的任务还是会生成新的goroutine。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/446453643/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3244,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456022133"",""html_url"":""https://github.com/panjf2000/ants/issues/22#issuecomment-456022133"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/22"",""id"":456022133,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjAyMjEzMw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-21T10:21:24Z"",""updated_at"":""2019-01-21T10:22:58Z"",""author_association"":""OWNER"",""body"":""合理的需求，可以加。我这两天加下。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456022133/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3245,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456022560"",""html_url"":""https://github.com/panjf2000/ants/issues/22#issuecomment-456022560"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/22"",""id"":456022560,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjAyMjU2MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-21T10:22:39Z"",""updated_at"":""2019-01-21T10:22:39Z"",""author_association"":""OWNER"",""body"":""你要有兴趣也可以自己做，然后提个PR。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456022560/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3246,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456033956"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456033956"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456033956,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjAzMzk1Ng=="",""user"":{""login"":""codecov[bot]"",""id"":22429695,""node_id"":""MDM6Qm90MjI0Mjk2OTU="",""avatar_url"":""https://avatars.githubusercontent.com/in/254?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/codecov%5Bbot%5D"",""html_url"":""https://github.com/apps/codecov"",""followers_url"":""https://api.github.com/users/codecov%5Bbot%5D/followers"",""following_url"":""https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}"",""gists_url"":""https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/codecov%5Bbot%5D/subscriptions"",""organizations_url"":""https://api.github.com/users/codecov%5Bbot%5D/orgs"",""repos_url"":""https://api.github.com/users/codecov%5Bbot%5D/repos"",""events_url"":""https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}"",""received_events_url"":""https://api.github.com/users/codecov%5Bbot%5D/received_events"",""type"":""Bot"",""site_admin"":false},""created_at"":""2019-01-21T11:00:28Z"",""updated_at"":""2019-01-22T05:17:17Z"",""author_association"":""NONE"",""body"":""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=h1) Report\n> Merging [#23](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/812dd4e01075be3cf97429a43abaf6837908cdcd?src=pr&el=desc) will **decrease** coverage by `1.02%`.\n> The diff coverage is `71.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/23/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #23      +/-   ##\n==========================================\n- Coverage   97.07%   96.04%   -1.03%     \n==========================================\n  Files           5        5              \n  Lines         239      253      +14     \n==========================================\n+ Hits          232      243      +11     \n- Misses          3        5       +2     \n- Partials        4        5       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `98.13% <ø> (+2.8%)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.22% <ø> (-1.89%)` | :arrow_down: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `86.66% <71.42%> (-13.34%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `86.66% <71.42%> (-13.34%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=footer). Last update [812dd4e...5bbc9e1](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456033956/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3247,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456071084"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456071084"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456071084,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjA3MTA4NA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-21T13:18:19Z"",""updated_at"":""2019-01-21T13:18:38Z"",""author_association"":""OWNER"",""body"":""@choleraehyq \r\nbuild失败了，解决一下？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456071084/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3248,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456261758"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456261758"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456261758,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjI2MTc1OA=="",""user"":{""login"":""choleraehyq"",""id"":8923413,""node_id"":""MDQ6VXNlcjg5MjM0MTM="",""avatar_url"":""https://avatars.githubusercontent.com/u/8923413?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/choleraehyq"",""html_url"":""https://github.com/choleraehyq"",""followers_url"":""https://api.github.com/users/choleraehyq/followers"",""following_url"":""https://api.github.com/users/choleraehyq/following{/other_user}"",""gists_url"":""https://api.github.com/users/choleraehyq/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/choleraehyq/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/choleraehyq/subscriptions"",""organizations_url"":""https://api.github.com/users/choleraehyq/orgs"",""repos_url"":""https://api.github.com/users/choleraehyq/repos"",""events_url"":""https://api.github.com/users/choleraehyq/events{/privacy}"",""received_events_url"":""https://api.github.com/users/choleraehyq/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-22T03:45:04Z"",""updated_at"":""2019-01-22T03:45:04Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000 这是测试覆盖率的问题吧，我已经测了设置 PanicHandler 的情况了，不设置的情况一测就 panic 了，而且是在一个 worker 里 panic，没法 recover"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456261758/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3249,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456270386"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456270386"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456270386,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjI3MDM4Ng=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-22T04:50:28Z"",""updated_at"":""2019-01-22T04:54:54Z"",""author_association"":""OWNER"",""body"":""@choleraehyq \r\n三点：\r\n1. CI failed是因为TestPanicHandler测试失败了\r\n![image](https://user-images.githubusercontent.com/7496278/51513040-ba5fe680-1e43-11e9-92eb-6af6fa1242c9.png)\r\n2. 在Worker的recover里面，需要再加一个w.pool.decRunning()，因为panic之后这个goroutine就销毁了，所以要更新pool中的可用worker数量\r\n3. 麻烦在pool_func.go和worker_func.go里面也相应地加上PanicHandler的逻辑以及对应的unit tests\r\n\r\nThanks."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456270386/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3250,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456273052"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456273052"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456273052,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjI3MzA1Mg=="",""user"":{""login"":""choleraehyq"",""id"":8923413,""node_id"":""MDQ6VXNlcjg5MjM0MTM="",""avatar_url"":""https://avatars.githubusercontent.com/u/8923413?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/choleraehyq"",""html_url"":""https://github.com/choleraehyq"",""followers_url"":""https://api.github.com/users/choleraehyq/followers"",""following_url"":""https://api.github.com/users/choleraehyq/following{/other_user}"",""gists_url"":""https://api.github.com/users/choleraehyq/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/choleraehyq/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/choleraehyq/subscriptions"",""organizations_url"":""https://api.github.com/users/choleraehyq/orgs"",""repos_url"":""https://api.github.com/users/choleraehyq/repos"",""events_url"":""https://api.github.com/users/choleraehyq/events{/privacy}"",""received_events_url"":""https://api.github.com/users/choleraehyq/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-22T05:10:00Z"",""updated_at"":""2019-01-22T05:10:00Z"",""author_association"":""CONTRIBUTOR"",""body"":""@panjf2000 thanks，修了"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456273052/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3251,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456277710"",""html_url"":""https://github.com/panjf2000/ants/pull/23#issuecomment-456277710"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/23"",""id"":456277710,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1NjI3NzcxMA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-01-22T05:41:10Z"",""updated_at"":""2019-01-22T05:41:10Z"",""author_association"":""OWNER"",""body"":""Thanks for your contributions to `ants`!"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/456277710/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3252,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/459948887"",""html_url"":""https://github.com/panjf2000/ants/issues/25#issuecomment-459948887"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/25"",""id"":459948887,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ1OTk0ODg4Nw=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-02-02T09:03:51Z"",""updated_at"":""2019-02-02T09:04:50Z"",""author_association"":""OWNER"",""body"":""@jiashiwen \r\nIt works on my side, pls make sure that you run the example on top of the latest ants code, thanks."",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/459948887/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3253,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/468919580"",""html_url"":""https://github.com/panjf2000/ants/issues/26#issuecomment-468919580"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/26"",""id"":468919580,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ2ODkxOTU4MA=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-03-02T13:14:05Z"",""updated_at"":""2019-03-02T13:14:05Z"",""author_association"":""OWNER"",""body"":""不会的，incRunning操作总是在比较大小之后才发生的。"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/468919580/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3254,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/471299071"",""html_url"":""https://github.com/panjf2000/ants/issues/27#issuecomment-471299071"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/27"",""id"":471299071,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ3MTI5OTA3MQ=="",""user"":{""login"":""panjf2000"",""id"":7496278,""node_id"":""MDQ6VXNlcjc0OTYyNzg="",""avatar_url"":""https://avatars.githubusercontent.com/u/7496278?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/panjf2000"",""html_url"":""https://github.com/panjf2000"",""followers_url"":""https://api.github.com/users/panjf2000/followers"",""following_url"":""https://api.github.com/users/panjf2000/following{/other_user}"",""gists_url"":""https://api.github.com/users/panjf2000/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/panjf2000/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/panjf2000/subscriptions"",""organizations_url"":""https://api.github.com/users/panjf2000/orgs"",""repos_url"":""https://api.github.com/users/panjf2000/repos"",""events_url"":""https://api.github.com/users/panjf2000/events{/privacy}"",""received_events_url"":""https://api.github.com/users/panjf2000/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-03-10T13:18:01Z"",""updated_at"":""2019-03-10T13:18:01Z"",""author_association"":""OWNER"",""body"":""server接收的并发请求量有多大？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/471299071/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
3255,"{""ConnectionId"":1,""Owner"":""panjf2000"",""Repo"":""ants""}","{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/471869506"",""html_url"":""https://github.com/panjf2000/ants/issues/28#issuecomment-471869506"",""issue_url"":""https://api.github.com/repos/panjf2000/ants/issues/28"",""id"":471869506,""node_id"":""MDEyOklzc3VlQ29tbWVudDQ3MTg2OTUwNg=="",""user"":{""login"":""naiba"",""id"":29243953,""node_id"":""MDQ6VXNlcjI5MjQzOTUz"",""avatar_url"":""https://avatars.githubusercontent.com/u/29243953?v=4"",""gravatar_id"":"""",""url"":""https://api.github.com/users/naiba"",""html_url"":""https://github.com/naiba"",""followers_url"":""https://api.github.com/users/naiba/followers"",""following_url"":""https://api.github.com/users/naiba/following{/other_user}"",""gists_url"":""https://api.github.com/users/naiba/gists{/gist_id}"",""starred_url"":""https://api.github.com/users/naiba/starred{/owner}{/repo}"",""subscriptions_url"":""https://api.github.com/users/naiba/subscriptions"",""organizations_url"":""https://api.github.com/users/naiba/orgs"",""repos_url"":""https://api.github.com/users/naiba/repos"",""events_url"":""https://api.github.com/users/naiba/events{/privacy}"",""received_events_url"":""https://api.github.com/users/naiba/received_events"",""type"":""User"",""site_admin"":false},""created_at"":""2019-03-12T06:06:39Z"",""updated_at"":""2019-03-12T06:06:39Z"",""author_association"":""NONE"",""body"":""加锁后资源消耗会增加，性能会下降很多，所以是加锁确保池数量还是不加锁保证性能呢？"",""reactions"":{""url"":""https://api.github.com/repos/panjf2000/ants/issues/comments/471869506/reactions"",""total_count"":0,""+1"":0,""-1"":0,""laugh"":0,""hooray"":0,""confused"":0,""heart"":0,""rocket"":0,""eyes"":0},""performed_via_github_app"":null}",https://api.github.com/repos/panjf2000/ants/issues/comments?direction=asc&page=1&per_page=100&state=all,null,2022-06-13 15:36:00.593319+00:00
